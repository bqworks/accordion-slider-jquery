/*!
Accordion Slider by bqworks
http://bqworks.com/accordion-slider/
*/
!function(a,b){"use strict";b.AccordionSlider={modules:{},addModule:function(a,c,f){"undefined"==typeof this.modules[f]&&(this.modules[f]=[]),this.modules[f].push(a),"accordion"==f?b.extend(d.prototype,c):"panel"==f&&b.extend(e.prototype,c)}};var c=b.AccordionSlider.namespace="AccordionSlider",d=function(a,c){this.$accordion=b(a),this.$panelsContainer=null,this.$maskContainer=null,this.options=c,this.settings={},this.originalSettings={},this.currentIndex=-1,this.currentPage=0,this.totalSize=0,this.totalPanelsSize=0,this.computedOpenedPanelSize=0,this.maxComputedOpenedPanelSize=0,this.collapsedPanelSize=0,this.closedPanelSize=0,this.computedPanelDistance=0,this.panels=[],this.mouseDelayTimer=0,this.openPanelAnimation={},this.closePanelsAnimation={},this.uniqueId=Date.now(),this.breakpoints=[],this.currentBreakpoint=-1,this.previousVisiblePanels=-1,this.isPageScrolling=!1,this.positionProperty="left",this.sizeProperty="width",this.autoResponsiveRatio=1,this._init()};d.prototype={_init:function(){var a=this;this.settings=b.extend({},this.defaults,this.options),this.$maskContainer=b('<div class="as-mask"></div>').appendTo(this.$accordion),this.$panelsContainer=this.$accordion.find(".as-panels").appendTo(this.$maskContainer);var d=b.AccordionSlider.modules.accordion;if("undefined"!=typeof d)for(var e in d)"undefined"!=typeof this["init"+d[e]]&&this["init"+d[e]]();if(this.originalSettings=b.extend({},this.settings),this.currentIndex=this.settings.startPanel,-1!=this.currentIndex&&this.$accordion.addClass("as-opened"),-1==this.currentIndex&&0!==this.settings.startPage&&(this.currentPage=this.settings.startPage),null!==this.settings.breakpoints){for(var f in this.settings.breakpoints)this.breakpoints.push({size:parseInt(f,10),properties:this.settings.breakpoints[f]});this.breakpoints=this.breakpoints.sort(function(a,b){return a.size>=b.size?1:-1})}if(this.update(),this._prepareRAF(),-1!=this.currentIndex){this.$accordion.find(".as-panel").eq(this.currentIndex).addClass("as-opened");var g={type:"panelOpen",index:this.currentIndex,previousIndex:-1,element:this.getPanelAt(this.currentIndex)};this.trigger(g),b.isFunction(this.settings.panelOpen)&&this.settings.panelOpen.call(this,g)}this.on("mouseenter."+c,function(){var c={type:"accordionMouseOver"};a.trigger(c),b.isFunction(a.settings.accordionMouseOver)&&a.settings.accordionMouseOver.call(a,c)}),this.on("mouseleave."+c,function(){a.settings.closePanelsOnMouseOut===!0&&a.closePanels();var c={type:"accordionMouseOut"};a.trigger(c),b.isFunction(a.settings.accordionMouseOut)&&a.settings.accordionMouseOut.call(a,c)}),this.trigger({type:"init"}),b.isFunction(this.settings.init)&&this.settings.init.call(this,{type:"init"})},update:function(){var d=this;if("horizontal"==this.settings.orientation?(this.$accordion.removeClass("as-vertical").addClass("as-horizontal"),this.positionProperty="left",this.sizeProperty="width"):"vertical"==this.settings.orientation&&(this.$accordion.removeClass("as-horizontal").addClass("as-vertical"),this.positionProperty="top",this.sizeProperty="height"),this.$panelsContainer.attr("style",""),this.settings.responsive===!0?(this.$accordion.css({width:"100%",height:this.settings.height,maxWidth:this.settings.width,maxHeight:this.settings.height}),-1==this.settings.aspectRatio&&(this.settings.aspectRatio=this.settings.width/this.settings.height),b(a).off("resize."+this.uniqueId+"."+c),b(a).on("resize."+this.uniqueId+"."+c,function(){d.resize()})):this.$accordion.css({width:this.settings.width,height:this.settings.height,maxWidth:"",maxHeight:""}),-1==this.settings.visiblePanels)this.currentPage=0;else if(this.settings.visiblePanels!=this.previousVisiblePanels&&-1!==this.previousVisiblePanels){var e=Math.round(this.currentPage*this.previousVisiblePanels/this.settings.visiblePanels);this.currentPage!==e&&(this.currentPage=e)}this._updatePanels(),this._updatePaginationButtons(),this.resize(),this.settings.shadow===!0?this.$accordion.find(".as-panel").addClass("as-shadow"):this.settings.shadow===!1&&this.$accordion.find(".as-shadow").removeClass("as-shadow");var f={type:"update"};d.trigger(f),b.isFunction(d.settings.update)&&d.settings.update.call(d,f)},_updatePanels:function(){for(var a=this,c=this.panels.length-1;c>=0;c--)0===this.$accordion.find('.as-panel[data-index="'+c+'"]').length&&(this.panels[c].destroy(),this.panels.splice(c,1));this.$accordion.find(".as-panel").each(function(c,d){var e=b(d);"undefined"==typeof e.attr("data-init")?a._createPanel(c,e):(a.panels[c].setIndex(c),a.panels[c].update())})},_createPanel:function(a,d){var f=this,g=b(d),h=new e(g,this,a);this.panels.splice(a,0,h),h.on("panelMouseOver."+c,function(c){if(f.isPageScrolling!==!0){"hover"==f.settings.openPanelOn&&(clearTimeout(f.mouseDelayTimer),f.mouseDelayTimer=setTimeout(function(){f.openPanel(c.index)},f.settings.mouseDelay));var d={type:"panelMouseOver",index:a,element:g};f.trigger(d),b.isFunction(f.settings.panelMouseOver)&&f.settings.panelMouseOver.call(f,d)}}),h.on("panelMouseOut."+c,function(){if(f.isPageScrolling!==!0){var c={type:"panelMouseOut",index:a,element:g};f.trigger(c),b.isFunction(f.settings.panelMouseOut)&&f.settings.panelMouseOut.call(f,c)}}),h.on("panelClick."+c,function(c){"click"==f.settings.openPanelOn&&(a!==this.currentIndex?f.openPanel(c.index):f.closePanels());var d={type:"panelClick",index:a,element:g};f.trigger(d),b.isFunction(f.settings.panelClick)&&f.settings.panelClick.call(f,d)})},removePanels:function(){b.each(this.panels,function(a,b){b.destroy()}),this.panels.length=0},resize:function(){var c=this;this.settings.responsive===!0&&this.$accordion.css({width:"100%"}),-1!=this.settings.aspectRatio&&this.$accordion.css("height",this.$accordion.innerWidth()/this.settings.aspectRatio),this.computedOpenedPanelSize=this.settings.openedPanelSize,"custom"==this.settings.responsiveMode?(this.$maskContainer.attr("style",""),this.totalSize="horizontal"==this.settings.orientation?this.$accordion.innerWidth():this.$accordion.innerHeight()):"auto"==this.settings.responsiveMode&&(this.autoResponsiveRatio=this.$accordion.innerWidth()/this.settings.width,this.$maskContainer.css({width:this.settings.width,height:this.settings.height,transform:"scaleX("+this.autoResponsiveRatio+") scaleY("+this.autoResponsiveRatio+")",transformOrigin:"top left"}),this.totalSize="horizontal"==this.settings.orientation?this.$maskContainer.innerWidth():this.$maskContainer.innerHeight()),"string"==typeof this.computedOpenedPanelSize&&(-1!=this.computedOpenedPanelSize.indexOf("%")?this.computedOpenedPanelSize=this.totalSize*(parseInt(this.computedOpenedPanelSize,10)/100):-1!=this.computedOpenedPanelSize.indexOf("px")?this.computedOpenedPanelSize=parseInt(this.computedOpenedPanelSize,10):"max"==this.computedOpenedPanelSize&&(this.computedOpenedPanelSize=-1==this.currentIndex?.5*this.totalSize:this.getPanelAt(this.currentIndex).getContentSize())),"max"==this.settings.openedPanelSize&&(this.maxComputedOpenedPanelSize=this.settings.maxOpenedPanelSize,"string"==typeof this.maxComputedOpenedPanelSize&&(-1!=this.maxComputedOpenedPanelSize.indexOf("%")?this.maxComputedOpenedPanelSize=this.totalSize*(parseInt(this.maxComputedOpenedPanelSize,10)/100):-1!=this.maxComputedOpenedPanelSize.indexOf("px")&&(this.maxComputedOpenedPanelSize=parseInt(this.maxComputedOpenedPanelSize,10)))),this.computedPanelDistance=this.settings.panelDistance,"string"==typeof this.computedPanelDistance&&(-1!=this.computedPanelDistance.indexOf("%")?this.computedPanelDistance=this.totalSize*(parseInt(this.computedPanelDistance,10)/100):-1!=this.computedPanelDistance.indexOf("px")&&(this.computedPanelDistance=parseInt(this.computedPanelDistance,10))),this.collapsedPanelSize=(this.totalSize-this.computedOpenedPanelSize-(this.getVisiblePanels()-1)*this.computedPanelDistance)/(this.getVisiblePanels()-1),this.closedPanelSize=(this.totalSize-(this.getVisiblePanels()-1)*this.computedPanelDistance)/this.getVisiblePanels(),this.computedOpenedPanelSize=Math.floor(this.computedOpenedPanelSize),this.collapsedPanelSize=Math.floor(this.collapsedPanelSize),this.closedPanelSize=Math.floor(this.closedPanelSize),this.totalPanelsSize=this.closedPanelSize*this.getTotalPanels()+this.computedPanelDistance*(this.getTotalPanels()-1),this.$panelsContainer.css(this.sizeProperty,this.totalPanelsSize);var d=this.closedPanelSize*this.getVisiblePanels()+this.computedPanelDistance*(this.getVisiblePanels()-1);if("custom"==this.settings.responsiveMode?this.$accordion.css(this.sizeProperty,d):(this.$accordion.css(this.sizeProperty,d*this.autoResponsiveRatio),this.$maskContainer.css(this.sizeProperty,d)),b.each(this.panels,function(a,b){-1!=c.currentIndex&&(c.currentIndex=-1);var d=a*(c.closedPanelSize+c.computedPanelDistance);b.setPosition(d),c.settings.panelsOverlap===!1&&b.setSize(c.closedPanelSize)}),-1!=this.settings.visiblePanels){this.totalSize=this.closedPanelSize*this.settings.visiblePanels+this.computedPanelDistance*(this.settings.visiblePanels-1);var e={},f=-(this.totalSize+this.computedPanelDistance)*this.currentPage;this.currentPage===this.getTotalPages()-1&&(f=-(this.closedPanelSize*this.getTotalPanels()+this.computedPanelDistance*(this.getTotalPanels()-1)-this.totalSize)),e[this.positionProperty]=f,this.$panelsContainer.css(e)}if(null!==this.settings.breakpoints&&this.breakpoints.length>0)if(b(a).width()>this.breakpoints[this.breakpoints.length-1].size&&-1!=this.currentBreakpoint)this.currentBreakpoint=-1,this.setProperties(this.originalSettings,!1);else for(var g=0,h=this.breakpoints.length;h>g;g++)if(b(a).width()<=this.breakpoints[g].size){if(this.currentBreakpoint!==this.breakpoints[g].size){var i={type:"breakpointReach",size:this.breakpoints[g].size,settings:this.breakpoints[g].properties};c.trigger(i),b.isFunction(c.settings.breakpointReach)&&c.settings.breakpointReach.call(c,i),this.currentBreakpoint=this.breakpoints[g].size;var j=b.extend({},this.originalSettings,this.breakpoints[g].properties);this.setProperties(j,!1)}break}},setProperties:function(a,b){for(var c in a)"visiblePanels"==c&&-1!=this.settings.visiblePanels&&(this.previousVisiblePanels=this.settings.visiblePanels),this.settings[c]=a[c],b!==!1&&(this.originalSettings[c]=a[c]);this.update()},destroy:function(){this.$accordion.removeData("accordionSlider"),this.$accordion.attr("style",""),this.$panelsContainer.attr("style",""),this.off("mouseenter."+c),this.off("mouseleave."+c),this.off("panelMouseOver."+c),this.off("panelMouseOut."+c),this.off("panelClick."+c),b(a).off("resize."+this.uniqueId+"."+c);var d=b.AccordionSlider.modules.accordion;if("undefined"!=typeof d)for(var e in d)"undefined"!=typeof this["destroy"+d[e]]&&this["destroy"+d[e]]();this.removePanels(),this.$panelsContainer.appendTo(this.$accordion),this.$maskContainer.remove(),this.$accordion.find(".as-pagination-buttons").remove()},on:function(a,b){return this.$accordion.on(a,b)},off:function(a){return this.$accordion.off(a)},trigger:function(a){return this.$accordion.triggerHandler(a)},getPanelAt:function(a){return this.panels[a]},getCurrentIndex:function(){return this.currentIndex},getTotalPanels:function(){return this.panels.length},nextPanel:function(){var a=this.currentIndex>=this.getTotalPanels()-1?0:this.currentIndex+1;this.openPanel(a)},previousPanel:function(){var a=this.currentIndex<=0?this.getTotalPanels()-1:this.currentIndex-1;this.openPanel(a)},_animatePanels:function(b,c){function d(){1>f?(f=(Date.now()-e)/c.duration,f>1&&(f=1),f=.5-Math.cos(f*Math.PI)/2,c.step(f),b.timer=a.requestAnimationFrame(d)):(c.complete(),b.isRunning=!1,a.cancelAnimationFrame(b.timer))}var e=Date.now(),f=0;b.isRunning=!0,b.timer=a.requestAnimationFrame(d)},_stopPanelsAnimation:function(b){"undefined"!=typeof b.isRunning&&b.isRunning===!0&&(b.isRunning=!1,a.cancelAnimationFrame(b.timer))},_prepareRAF:function(){if("undefined"==typeof a.requestAnimationFrame)for(var b=["webkit","moz"],c=0;c<b.length;c++)a.requestAnimationFrame=a[b[c]+"RequestAnimationFrame"],a.cancelAnimationFrame=a.cancelAnimationFrame||a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];if("undefined"==typeof a.requestAnimationFrame){var d=0;a.requestAnimationFrame=function(b){var c=Date.now(),e=Math.max(0,16-(c-d)),f=a.setTimeout(function(){b(c+e)},e);return d=c+e,f},a.cancelAnimationFrame=function(a){clearTimeout(a)}}},openPanel:function(a){if(a!==this.currentIndex){this.$accordion.hasClass("as-opened")===!1&&(this.$accordion.removeClass("as-closed"),this.$accordion.addClass("as-opened"));var c=this.currentIndex;if(this.currentIndex=a,-1!=this.settings.visiblePanels&&!(this.currentPage==this.getTotalPages()-1&&a>=this.getTotalPanels()-this.settings.visiblePanels)){var d=Math.floor(this.currentIndex/this.settings.visiblePanels);d!==this.currentPage&&this.gotoPage(d),this.currentIndex=a}var e=this,f=[],g=[],h=[],i=[],j=[],k=this._getFirstPanelFromPage(),l=this._getLastPanelFromPage(),m=0;this.$accordion.find(".as-opened").removeClass("as-opened"),this.$accordion.find(".as-panel").eq(this.currentIndex).addClass("as-opened"),"max"==this.settings.openedPanelSize&&(this.computedOpenedPanelSize=this.getPanelAt(this.currentIndex).getContentSize(),this.computedOpenedPanelSize>this.maxComputedOpenedPanelSize&&(this.computedOpenedPanelSize=this.maxComputedOpenedPanelSize),this.collapsedPanelSize=(this.totalSize-this.computedOpenedPanelSize-(this.getVisiblePanels()-1)*this.computedPanelDistance)/(this.getVisiblePanels()-1));for(var n=k;l>=n;n++){var o=this.getPanelAt(n);i[n]=o.getPosition(),g[n]=this.currentPage*(this.totalSize+this.computedPanelDistance)+m*(this.collapsedPanelSize+this.computedPanelDistance)+(n>this.currentIndex?this.computedOpenedPanelSize-this.collapsedPanelSize:0),-1!=this.settings.visiblePanels&&this.currentPage==this.getTotalPages()-1&&(g[n]-=(this.getTotalPages()-this.getTotalPanels()/this.settings.visiblePanels)*(this.totalSize+this.computedPanelDistance)),g[n]!==i[n]&&j.push(n),this.settings.panelsOverlap===!1&&(h[n]=o.getSize(),f[n]=n===this.currentIndex?this.computedOpenedPanelSize:this.collapsedPanelSize,f[n]!==h[n]&&-1==b.inArray(n,j)&&j.push(n)),m++}var p=j.length;this.closePanelsAnimation.page===this.currentPage&&this._stopPanelsAnimation(this.closePanelsAnimation),this._stopPanelsAnimation(this.openPanelAnimation),this.openPanelAnimation.page=this.currentPage,this._animatePanels(this.openPanelAnimation,{duration:this.settings.openPanelDuration,step:function(a){for(var b=0;p>b;b++){var c=j[b],d=e.getPanelAt(c);d.setPosition(a*(g[c]-i[c])+i[c]),e.settings.panelsOverlap===!1&&d.setSize(a*(f[c]-h[c])+h[c])}},complete:function(){var a={type:"panelOpenComplete",index:e.currentIndex};e.trigger(a),b.isFunction(e.settings.panelOpenComplete)&&e.settings.panelOpenComplete.call(e,a)}});var q={type:"panelOpen",index:a,previousIndex:c,element:this.getPanelAt(a)};this.trigger(q),b.isFunction(this.settings.panelOpen)&&this.settings.panelOpen.call(this,q)}},closePanels:function(){var a=this.currentIndex;this.currentIndex=-1,this.$accordion.hasClass("as-closed")===!1&&(this.$accordion.removeClass("as-opened"),this.$accordion.addClass("as-closed")),clearTimeout(this.mouseDelayTimer);for(var c=this,d=[],e=[],f=[],g=[],h=this._getFirstPanelFromPage(),i=this._getLastPanelFromPage(),j=0,k=h;i>=k;k++){var l=this.getPanelAt(k);g[k]=l.getPosition(),e[k]=this.currentPage*(this.totalSize+this.computedPanelDistance)+j*(this.closedPanelSize+this.computedPanelDistance),-1!=this.settings.visiblePanels&&this.currentPage==this.getTotalPages()-1&&(e[k]-=(this.getTotalPages()-this.getTotalPanels()/this.settings.visiblePanels)*(this.totalSize+this.computedPanelDistance)),this.settings.panelsOverlap===!1&&(f[k]=l.getSize(),d[k]=this.closedPanelSize),j++}this.openPanelAnimation.page===this.currentPage&&this._stopPanelsAnimation(this.openPanelAnimation),this._stopPanelsAnimation(this.closePanelsAnimation),this.closePanelsAnimation.page=this.currentPage,this._animatePanels(this.closePanelsAnimation,{duration:this.settings.closePanelDuration,step:function(a){for(var b=h;i>=b;b++){var j=c.getPanelAt(b);j.setPosition(a*(e[b]-g[b])+g[b]),c.settings.panelsOverlap===!1&&j.setSize(a*(d[b]-f[b])+f[b])}},complete:function(){var d={type:"panelsCloseComplete",previousIndex:a};c.trigger(d),b.isFunction(c.settings.panelsCloseComplete)&&c.settings.panelsCloseComplete.call(c,d)}});var m={type:"panelsClose",previousIndex:a};this.trigger(m),b.isFunction(this.settings.panelsClose)&&this.settings.panelsClose.call(this,m)},getVisiblePanels:function(){return-1==this.settings.visiblePanels?this.getTotalPanels():this.settings.visiblePanels},getTotalPages:function(){return Math.ceil(this.getTotalPanels()/this.settings.visiblePanels)},getPage:function(){return-1==this.settings.visiblePanels?0:this.currentPage},gotoPage:function(a){-1!=this.currentIndex&&this.closePanels(),this.currentPage=a,this.isPageScrolling=!0;var c=this,d={},e=-(a*this.totalSize+this.currentPage*this.computedPanelDistance);this.currentPage===this.getTotalPages()-1&&(e=-(this.totalPanelsSize-this.totalSize)),d[this.positionProperty]=e;var f={type:"pageScroll",index:this.currentPage};this.trigger(f),b.isFunction(this.settings.pageScroll)&&this.settings.pageScroll.call(this,f),this.$panelsContainer.stop().animate(d,this.settings.pageScrollDuration,this.settings.pageScrollEasing,function(){c.isPageScrolling=!1;var a={type:"pageScrollComplete",index:c.currentPage};c.trigger(a),b.isFunction(c.settings.pageScrollComplete)&&c.settings.pageScrollComplete.call(c,a)})},nextPage:function(){var a=this.currentPage>=this.getTotalPages()-1?0:this.currentPage+1;this.gotoPage(a)},previousPage:function(){var a=this.currentPage<=0?this.getTotalPages()-1:this.currentPage-1;this.gotoPage(a)},_getFirstPanelFromPage:function(){return-1==this.settings.visiblePanels?0:this.currentPage==this.getTotalPages()-1&&0!==this.currentPage?this.getTotalPanels()-this.settings.visiblePanels:this.currentPage*this.settings.visiblePanels},_getLastPanelFromPage:function(){return-1==this.settings.visiblePanels?this.getTotalPanels()-1:this.currentPage==this.getTotalPages()-1?this.getTotalPanels()-1:(this.currentPage+1)*this.settings.visiblePanels-1},_getPageOfPanel:function(a){return Math.floor(a/this.settings.visiblePanels)},_isPanelInPage:function(a){return this.getPageOfPanel(a)==this.currentPage||this.currentPage==this.getTotalPages()-1&&a>=this.getTotalPanels()-this.settings.visiblePanels?!0:!1},_updatePaginationButtons:function(){var a=this.$accordion.find(".as-pagination-buttons"),d=this;if(-1==this.settings.visiblePanels&&0!==a.length)a.remove(),a.off("click."+c,".as-pagination-button"),this.off("pageScroll."+c);else if(-1!=this.settings.visiblePanels&&0===a.length){a=b('<div class="as-pagination-buttons"></div>').appendTo(this.$accordion);for(var e=0;e<this.getTotalPages();e++)b('<div class="as-pagination-button"></div>').appendTo(a);a.on("click."+c,".as-pagination-button",function(){d.gotoPage(b(this).index())}),a.find(".as-pagination-button").eq(this.currentPage).addClass("as-selected"),this.on("pageScroll."+c,function(b){a.find(".as-selected").removeClass("as-selected"),a.find(".as-pagination-button").eq(b.index).addClass("as-selected")})}else if(-1!=this.settings.visiblePanels&&0!==a.length){a.empty();for(var f=0;f<this.getTotalPages();f++)b('<div class="as-pagination-button"></div>').appendTo(a);a.find(".as-selected").removeClass("as-selected"),a.find(".as-pagination-button").eq(this.currentPage).addClass("as-selected")}},defaults:{width:500,height:300,responsive:!0,responsiveMode:"auto",aspectRatio:-1,orientation:"horizontal",startPanel:-1,openedPanelSize:"50%",maxOpenedPanelSize:"90%",openPanelOn:"hover",closePanelsOnMouseOut:!0,mouseDelay:200,panelDistance:0,openPanelDuration:700,closePanelDuration:700,openPanelEasing:"swing",closePanelEasing:"swing",pageScrollDuration:500,pageScrollEasing:"swing",breakpoints:null,visiblePanels:-1,startPage:0,shadow:!0,panelsOverlap:!0,init:function(){},update:function(){},accordionMouseOver:function(){},accordionMouseOut:function(){},panelClick:function(){},panelMouseOver:function(){},panelMouseOut:function(){},panelOpen:function(){},panelsClose:function(){},pageScroll:function(){},panelOpenComplete:function(){},panelsCloseComplete:function(){},pageScrollComplete:function(){},breakpointReach:function(){}}};var e=function(a,b,d){this.$panel=a,this.accordion=b,this.settings=this.accordion.settings,this.panelNS="AccordionSliderPanel."+c,this.setIndex(d),this._init()};e.prototype={_init:function(){var a=this;this.$panel.attr("data-init",!0),this.on("mouseenter."+this.panelNS,function(){a.trigger({type:"panelMouseOver."+c,index:a.index})}),this.on("mouseleave."+this.panelNS,function(){a.trigger({type:"panelMouseOut."+c,index:a.index})}),this.on("click."+this.panelNS,function(){a.trigger({type:"panelClick."+c,index:a.index})}),this.update();var d=b.AccordionSlider.modules.panel;if("undefined"!=typeof d)for(var e in d)"undefined"!=typeof this["init"+d[e]]&&this["init"+d[e]]()},update:function(){this.positionProperty="horizontal"==this.settings.orientation?"left":"top",this.sizeProperty="horizontal"==this.settings.orientation?"width":"height",this.$panel.css({top:"",left:"",width:"",height:""})},destroy:function(){this.off("mouseenter."+this.panelNS),this.off("mouseleave."+this.panelNS),this.off("click."+this.panelNS),this.$panel.attr("style",""),this.$panel.removeAttr("data-init"),this.$panel.removeAttr("data-index");var a=b.AccordionSlider.modules.panel;if("undefined"!=typeof a)for(var c in a)"undefined"!=typeof this["destroy"+a[c]]&&this["destroy"+a[c]]()},getIndex:function(){return this.index},setIndex:function(a){this.index=a,this.$panel.attr("data-index",this.index)},getPosition:function(){return parseInt(this.$panel.css(this.positionProperty),10)},setPosition:function(a){this.$panel.css(this.positionProperty,a)},getSize:function(){return parseInt(this.$panel.css(this.sizeProperty),10)},setSize:function(a){this.$panel.css(this.sizeProperty,a)},getContentSize:function(){var a;return this.settings.panelsOverlap===!1?a="width"==this.sizeProperty?this.$panel[0].scrollWidth:this.$panel[0].scrollHeight:"width"==this.sizeProperty?(this.$panel.css({width:"100px",overflow:"hidden"}),a=this.$panel[0].scrollWidth,this.$panel.css({width:"",overflow:""})):(this.$panel.css({height:"100px",overflow:"hidden"}),a=this.$panel[0].scrollHeight,this.$panel.css({height:"",overflow:""})),a},on:function(a,b){return this.$panel.on(a,b)},off:function(a){return this.$panel.off(a)},trigger:function(a){return this.$panel.triggerHandler(a)}},a.AccordionSlider=d,a.AccordionSliderPanel=e,b.fn.accordionSlider=function(a){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){if("undefined"==typeof b(this).data("accordionSlider")){var e=new d(this,a);b(this).data("accordionSlider",e)}else if("undefined"!=typeof a){var f=b(this).data("accordionSlider");if("function"==typeof f[a])f[a].apply(f,c);else if("undefined"!=typeof f.settings[a]){var g={};g[a]=c[0],f.setProperties(g)}else"object"==typeof a?f.setProperties(a):b.error(a+" does not exist in accordionSlider.")}})}}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={autoplayTimer:null,isTimerRunning:!1,isTimerPaused:!1,initAutoplay:function(){var a=this;b.extend(this.settings,this.autoplayDefaults,this.options),this.settings.autoplay===!0&&this.startAutoplay(),this.on("panelOpen.Autoplay."+c,function(){a.settings.autoplay===!0&&(a.isTimerRunning===!0&&a.stopAutoplay(),a.isTimerPaused===!1&&a.startAutoplay())}),this.on("mouseenter.Autoplay."+c,function(){a.settings.autoplay!==!0||!a.isTimerRunning||"pause"!=a.settings.autoplayOnHover&&"stop"!=a.settings.autoplayOnHover||(a.stopAutoplay(),a.isTimerPaused=!0)}),this.on("mouseleave.Autoplay."+c,function(){a.settings.autoplay===!0&&a.isTimerRunning===!1&&"stop"!=a.settings.autoplayOnHover&&(a.startAutoplay(),a.isTimerPaused=!1)})},startAutoplay:function(){var a=this;this.isTimerRunning=!0,this.autoplayTimer=setTimeout(function(){"normal"==a.settings.autoplayDirection?a.nextPanel():"backwards"==a.settings.autoplayDirection&&a.previousPanel()},this.settings.autoplayDelay)},stopAutoplay:function(){this.isTimerRunning=!1,clearTimeout(this.autoplayTimer)},destroyAutoplay:function(){clearTimeout(this.autoplayTimer),this.off("panelOpen.Autoplay."+c),this.off("mouseenter.Autoplay."+c),this.off("mouseleave.Autoplay."+c)},autoplayDefaults:{autoplay:!0,autoplayDelay:5e3,autoplayDirection:"normal",autoplayOnHover:"pause"}};b.AccordionSlider.addModule("Autoplay",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={initDeepLinking:function(){var d=this;this.on("init.DeepLinking."+c,function(){d._parseHash(a.location.hash)}),b(a).on("hashchange.DeepLinking."+this.uniqueId+"."+c,function(){d._parseHash(a.location.hash)})},_parseHash:function(a){if(""!==a){a=a.substring(1);var b=a.split("-"),c=b.pop(),d=a.slice(0,-c.toString().length-1);if(this.$accordion.attr("id")==d){var e=parseInt(c,10);if(isNaN(e)){var f=this.$accordion.find(".as-panel#"+c).index();-1!=f&&this.openPanel(f)}else this.openPanel(e)}}},destroyDeepLinking:function(){b(a).off("hashchange.DeepLinking."+this.uniqueId+"."+c)}};b.AccordionSlider.addModule("DeepLinking",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={JSONDataAttributesMap:{width:"data-width",height:"data-height",depth:"data-depth",position:"data-position",horizontal:"data-horizontal",vertical:"data-vertical",showTransition:"data-show-transition",showOffset:"data-show-offset",showDelay:"data-show-delay",showDuration:"data-show-duration",showEasing:"data-show-easing",hideTransition:"data-hide-transition",hideOffset:"data-",hideDelay:"data-hide-delay",hideDuration:"data-hide-duration",hideEasing:"data-hide-easing"},initJSON:function(){b.extend(this.settings,this.JSONDefaults,this.options),null!==this.settings.JSONSource&&this.updateJSON()},updateJSON:function(){var a=this;this.removePanels(),this.$accordion.empty(),this.off("JSONReady."+c),a.$maskContainer=b('<div class="as-mask"></div>').appendTo(a.$accordion),a.$panelsContainer=b('<div class="as-panels"></div>').appendTo(a.$maskContainer),this.on("JSONReady."+c,function(c){var d=c.jsonData,e=d.accordion.panels;b.each(e,function(c,d){var e,f,g=d,h=b('<div class="as-panel"></div>').appendTo(a.$panelsContainer);if("undefined"!=typeof g.backgroundLink&&(e=b('<a href="'+g.backgroundLink.address+'"></a>'),b.each(g.backgroundLink,function(a,b){"address"!=a&&e.attr(a,b)}),e.appendTo(h)),"undefined"!=typeof g.background){var i=b('<img class="as-background" src="'+g.background.source+'"/>');b.each(g.background,function(a,b){"source"!=a&&i.attr(a,b)}),i.appendTo("undefined"!=typeof e?e:h)}if("undefined"!=typeof g.backgroundOpenedLink&&(f=b('<a href="'+g.backgroundOpenedLink.address+'"></a>'),b.each(g.backgroundOpenedLink,function(a,b){"address"!=a&&f.attr(a,b)}),f.appendTo(h)),"undefined"!=typeof g.backgroundOpened){var j=b('<img class="as-background-opened" src="'+g.backgroundOpened.source+'"/>');b.each(g.backgroundOpened,function(a,b){"source"!=a&&j.attr(a,b)}),j.appendTo("undefined"!=typeof f?f:h)}"undefined"!=typeof g.layers&&b.each(g.layers,function(c,d){var e=d,f="",g="";b.each(e,function(c,d){if("style"==c){var e=d.split(" ");b.each(e,function(a,b){f+=" as-"+b})}else"content"!==c&&(g+=" "+a.JSONDataAttributesMap[c]+'="'+d+'"')}),b('<div class="as-layer'+f+'"'+g+'">'+e.content+"</div>").appendTo(h)})}),a.update()}),this._loadJSON()},_loadJSON:function(){var a=this;if(".json"==this.settings.JSONSource.slice(-5))b.getJSON(this.settings.JSONSource,function(b){a.trigger({type:"JSONReady."+c,jsonData:b})});else{var d=b.parseJSON(this.settings.JSONSource);a.trigger({type:"JSONReady."+c,jsonData:d})}},destroyJSON:function(){this.off("JSONReady."+c)},JSONDefaults:{JSONSource:null}};b.AccordionSlider.addModule("JSON",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=(b.AccordionSlider.namespace,a.navigator.userAgent.toLowerCase()),d=/(msie) ([\w.]+)/,e=d.exec(c)||[],f=e[1],g=e[2],h={initLayers:function(){this.layers=[];var a=this;this.$panel.find(".as-layer").each(function(){var c=new i(b(this));a.layers.push(c)}),this.index===this.accordion.getCurrentIndex()?this._handleLayersInOpenedState():this._handleLayersInClosedState(),this.accordion.on("panelOpen.Layers."+this.panelNS,function(b){a.index===b.index&&a._handleLayersInOpenedState(),a.index===b.previousIndex&&a._handleLayersInClosedState()}),this.accordion.on("panelsClose.Layers."+this.panelNS,function(b){a.index===b.previousIndex&&a._handleLayersInClosedState()})},_handleLayersInOpenedState:function(){b.each(this.layers,function(a,b){"opened"==b.visibleOn&&b.show(),"closed"==b.visibleOn&&b.hide()})},_handleLayersInClosedState:function(){b.each(this.layers,function(a,b){"opened"==b.visibleOn&&b.hide(),"closed"==b.visibleOn&&b.show()})},destroyLayers:function(){this.accordion.off("panelOpen.Layers."+this.panelNS),this.accordion.off("panelsClose.Layers."+this.panelNS),b.each(this.layers,function(a,b){b.destroy()})}};b.AccordionSlider.addModule("Layers",h,"panel");var i=function(a){this.$layer=a,this.visibleOn="n/a",this.isVisible=!1,this.styled=!1,this._init()};i.prototype={_init:function(){this.$layer.css("visibility","hidden"),this.$layer.hasClass("as-always")?(this.visibleOn="always",this.show()):this.$layer.hasClass("as-opened")?this.visibleOn="opened":this.$layer.hasClass("as-closed")&&(this.visibleOn="closed")},_setStyle:function(){this.styled=!0,this.data=this.$layer.data(),"undefined"!=typeof this.data.width&&this.$layer.css("width",this.data.width),"undefined"!=typeof this.data.height&&this.$layer.css("height",this.data.height),"undefined"!=typeof this.data.depth&&this.$layer.css("z-index",this.data.depth),this.position=this.data.position?this.data.position.toLowerCase():"topleft",this.horizontalPosition=-1!=this.position.indexOf("right")?"right":"left",this.verticalPosition=-1!=this.position.indexOf("bottom")?"bottom":"top","undefined"!=typeof this.data.horizontal?"left"==this.data.horizontal&&"left"==this.horizontalPosition||"right"==this.data.horizontal&&"right"==this.horizontalPosition?this.$layer.css(this.horizontalPosition,0):"right"==this.data.horizontal&&"left"==this.horizontalPosition||"left"==this.data.horizontal&&"right"==this.horizontalPosition?(this.$layer.css("margin-"+this.horizontalPosition,-this.$layer.outerWidth(!1)),this.$layer.css(this.horizontalPosition,"100%")):"center"==this.data.horizontal?(this.$layer.css("margin-"+this.horizontalPosition,.5*-this.$layer.outerWidth(!1)),this.$layer.css(this.horizontalPosition,"50%")):this.$layer.css(this.horizontalPosition,this.data.horizontal):this.$layer.css(this.horizontalPosition,0),"undefined"!=typeof this.data.vertical?"top"==this.data.vertical&&"top"==this.verticalPosition||"bottom"==this.data.vertical&&"bottom"==this.verticalPosition?this.$layer.css(this.verticalPosition,0):"bottom"==this.data.vertical&&"top"==this.verticalPosition||"top"==this.data.vertical&&"bottom"==this.verticalPosition?(this.$layer.css("margin-"+this.verticalPosition,-this.$layer.outerHeight(!1)),this.$layer.css(this.verticalPosition,"100%")):"center"==this.data.vertical?(this.$layer.css("margin-"+this.verticalPosition,.5*-this.$layer.outerHeight(!1)),this.$layer.css(this.verticalPosition,"50%")):this.$layer.css(this.verticalPosition,this.data.vertical):this.$layer.css(this.verticalPosition,0)},show:function(){if(this.isVisible!==!0){this.isVisible=!0,this.styled===!1&&this._setStyle();var a=this,b={},c={};if(c.opacity=1,b.opacity=0,"undefined"!=typeof this.data.showTransition){var d="undefined"!=typeof this.data.showOffset?this.data.showOffset:50,e=parseInt(this.$layer.css(this.horizontalPosition),10),h=parseInt(this.$layer.css(this.verticalPosition),10);c[this.horizontalPosition]=e,c[this.verticalPosition]=h,"left"==this.data.showTransition?b[this.horizontalPosition]=e+("left"==this.horizontalPosition?d:-d):"right"==this.data.showTransition?b[this.horizontalPosition]=e+("left"==this.horizontalPosition?-d:d):"up"==this.data.showTransition?b[this.verticalPosition]=h+("top"==this.verticalPosition?d:-d):"down"==this.data.showTransition&&(b[this.verticalPosition]=h+("top"==this.verticalPosition?-d:d))
}"msie"==f&&parseInt(g,10)<=8?this.$layer.css("visibility","visible").css(c):this.$layer.stop().delay(this.data.showDelay).css(b).css("visibility","visible").animate(c,this.data.showDuration,this.data.showEasing,function(){"undefined"!=typeof a.data.horizontal&&("left"==a.data.horizontal&&"left"==a.horizontalPosition||"right"==a.data.horizontal&&"right"==a.horizontalPosition?a.$layer.css(a.horizontalPosition,0):"right"==a.data.horizontal&&"left"==a.horizontalPosition||"left"==a.data.horizontal&&"right"==a.horizontalPosition?(a.$layer.css("margin-"+a.horizontalPosition,-a.$layer.outerWidth(!1)),a.$layer.css(a.horizontalPosition,"100%")):"center"==a.data.horizontal?(a.$layer.css("margin-"+a.horizontalPosition,.5*-a.$layer.outerWidth(!1)),a.$layer.css(a.horizontalPosition,"50%")):a.$layer.css(a.horizontalPosition,a.data.horizontal)),"undefined"!=typeof a.data.vertical&&("top"==a.data.vertical&&"top"==a.verticalPosition||"bottom"==a.data.vertical&&"bottom"==a.verticalPosition?a.$layer.css(a.verticalPosition,0):"bottom"==a.data.vertical&&"top"==a.verticalPosition||"top"==a.data.vertical&&"bottom"==a.verticalPosition?(a.$layer.css("margin-"+a.verticalPosition,-a.$layer.outerHeight(!1)),a.$layer.css(a.verticalPosition,"100%")):"center"==a.data.vertical?(a.$layer.css("margin-"+a.verticalPosition,.5*-a.$layer.outerHeight(!1)),a.$layer.css(a.verticalPosition,"50%")):a.$layer.css(a.verticalPosition,a.data.vertical))})}},hide:function(){if(this.isVisible!==!1){this.isVisible=!1;var a=this,b={},c={};if(b.opacity=1,c.opacity=0,"undefined"!=typeof this.data.hideTransition){var d="undefined"!=typeof this.data.hideOffset?this.data.hideOffset:50,e=parseInt(this.$layer.css(this.horizontalPosition),10),h=parseInt(this.$layer.css(this.verticalPosition),10);"left"==this.data.hideTransition?c[this.horizontalPosition]=e-("left"==this.horizontalPosition?d:-d):"right"==this.data.hideTransition?c[this.horizontalPosition]=e-("left"==this.horizontalPosition?-d:d):"up"==this.data.hideTransition?c[this.verticalPosition]=h-("top"==this.verticalPosition?d:-d):"down"==this.data.hideTransition&&(c[this.verticalPosition]=h-("top"==this.verticalPosition?-d:d))}"msie"==f&&parseInt(g,10)<=7?this.$layer.css("visibility","hidden").css(c):this.$layer.stop().delay(this.data.hideDelay).css(b).animate(c,this.data.hideDuration,this.data.hideEasing,function(){a.$layer.css("visibility","visible"),"undefined"!=typeof a.data.horizontal&&("left"==a.data.horizontal&&"left"==a.horizontalPosition||"right"==a.data.horizontal&&"right"==a.horizontalPosition?a.$layer.css(a.horizontalPosition,0):"right"==a.data.horizontal&&"left"==a.horizontalPosition||"left"==a.data.horizontal&&"right"==a.horizontalPosition?(a.$layer.css("margin-"+a.horizontalPosition,-a.$layer.outerWidth(!1)),a.$layer.css(a.horizontalPosition,"100%")):"center"==a.data.horizontal?(a.$layer.css("margin-"+a.horizontalPosition,.5*-a.$layer.outerWidth(!1)),a.$layer.css(a.horizontalPosition,"50%")):a.$layer.css(a.horizontalPosition,a.data.horizontal)),"undefined"!=typeof a.data.vertical&&("top"==a.data.vertical&&"top"==a.verticalPosition||"bottom"==a.data.vertical&&"bottom"==a.verticalPosition?a.$layer.css(a.verticalPosition,0):"bottom"==a.data.vertical&&"top"==a.verticalPosition||"top"==a.data.vertical&&"bottom"==a.verticalPosition?(a.$layer.css("margin-"+a.verticalPosition,-a.$layer.outerHeight(!1)),a.$layer.css(a.verticalPosition,"100%")):"center"==a.data.vertical?(a.$layer.css("margin-"+a.verticalPosition,.5*-a.$layer.outerHeight(!1)),a.$layer.css(a.verticalPosition,"50%")):a.$layer.css(a.verticalPosition,a.data.vertical))})}},destroy:function(){this.$layer.attr("style","")}}}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={initLazyLoading:function(){this.on("update.LazyLoading."+c,b.proxy(this._checkImages,this)),this.on("pageScroll.LazyLoading."+c,b.proxy(this._checkImages,this))},_checkImages:function(){var a=this,c=this._getFirstPanelFromPage(),d=this._getLastPanelFromPage(),e=d!==this.getTotalPanels()-1?this.panels.slice(c,d+1):this.panels.slice(c);b.each(e,function(c,d){var e=d.$panel;"undefined"==typeof e.attr("data-loaded")&&(e.attr("data-loaded",!0),e.find("img").each(function(){var c=b(this);a._loadImage(c)}))})},_loadImage:function(a){"undefined"!=typeof a.attr("data-src")&&(a.attr("src",a.attr("data-src")),a.removeAttr("data-src"))},destroyLazyLoading:function(){this.off("update.LazyLoading."+c),this.off("pageScroll.LazyLoading."+c)}};b.AccordionSlider.addModule("LazyLoading",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={mouseWheelEventType:"",initMouseWheel:function(){var a=this;b.extend(this.settings,this.mouseWheelDefaults,this.options),this.settings.mouseWheel!==!1&&("onwheel"in document?this.mouseWheelEventType="wheel":"onmousewheel"in document?this.mouseWheelEventType="mousewheel":"onDomMouseScroll"in document?this.mouseWheelEventType="DomMouseScroll":"onMozMousePixelScroll"in document&&(this.mouseWheelEventType="MozMousePixelScroll"),this.on(this.mouseWheelEventType+"."+c,function(b){b.preventDefault();var c,d=b.originalEvent;"undefined"!=typeof d.detail&&(c=d.detail),"undefined"!=typeof d.wheelDelta&&(c=d.wheelDelta),"undefined"!=typeof d.deltaY&&(c=-1*d.deltaY),a.isPageScrolling===!1&&(c<=-a.settings.mouseWheelSensitivity?"page"==a.settings.mouseWheelTarget?a.nextPage():a.nextPanel():c>=a.settings.mouseWheelSensitivity&&("page"==a.settings.mouseWheelTarget?a.previousPage():a.previousPanel()))}))},destroyMouseWheel:function(){this.off(this.mouseWheelEventType+"."+c)},mouseWheelDefaults:{mouseWheel:!0,mouseWheelSensitivity:50,mouseWheelTarget:"panel"}};b.AccordionSlider.addModule("MouseWheel",d,"accordion")}(window,jQuery),function(a,b){"use strict";b.AccordionSlider.namespace;var c={initRetina:function(){var a=this;b.extend(this.settings,this.retinaDefaults,this.options),this.settings.retina!==!1&&this._isRetina()!==!1&&("undefined"!=typeof this._loadImage?this._loadImage=this._loadRetinaImage:this.$accordion.find("img").each(function(){var c=b(this);a._loadRetinaImage(c)}))},_isRetina:function(){return a.devicePixelRatio>1.5?!0:a.matchMedia&&a.matchMedia("(-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi)").matches?!0:!1},_loadRetinaImage:function(a){var b=!1;"undefined"!=typeof a.attr("data-retina")&&(b=!0,a.attr("src",a.attr("data-retina")),a.removeAttr("data-retina")),"undefined"!=typeof a.attr("data-src")&&(b===!1&&a.attr("src",a.attr("data-src")),a.removeAttr("data-src"))},destroyRetina:function(){},retinaDefaults:{retina:!0}};b.AccordionSlider.addModule("Retina",c,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d=a.navigator.userAgent.toLowerCase(),e={initSmartVideo:function(){b.extend(this.settings,this.smartVideoDefaults,this.options);var a=null!==d.match(/ipad/i)||null!==d.match(/ipod/i)||null!==d.match(/iphone/i);this.$accordion.find("video").each(function(){var c=b(this);if(a){var d=c.parent(),e=c[0].outerHTML;c.remove(),d.html(e),c=d.find("video"),c[0].load()}"undefined"!=typeof videojs&&c.hasClass("video-js")&&videojs(c.attr("id"),c.data("video")),"object"==typeof sublime&&c.hasClass("sublime-video")&&(c.addClass("sublime"),sublime.load())}),this._setupVideos()},_setupVideos:function(){var a=this;this.$accordion.find(".as-video").each(function(){var c=b(this);c.smartVideo(),c.on("play.SmartVideo",function(){"stopAutoplay"==a.settings.playVideoAction&&"undefined"!=typeof a.stopAutoplay&&(a.stopAutoplay(),a.settings.autoplay=!1);var d={type:"videoPlay",video:c};a.trigger(d),b.isFunction(a.settings.videoPlay)&&a.settings.videoPlay.call(a,d)}),c.on("pause.SmartVideo",function(){"startAutoplay"==a.settings.pauseVideoAction&&"undefined"!=typeof a.startAutoplay&&(a.startAutoplay(),a.settings.autoplay=!0);var d={type:"videoPause",video:c};a.trigger(d),b.isFunction(a.settings.videoPause)&&a.settings.videoPause.call(a,d)}),c.on("end.SmartVideo",function(){"startAutoplay"==a.settings.endVideoAction&&"undefined"!=typeof a.startAutoplay?(a.startAutoplay(),a.settings.autoplay=!0):"nextPanel"==a.settings.endVideoAction?a.nextPanel():"replayVideo"==a.settings.endVideoAction&&c.smartVideo("replay");var d={type:"videoEnd",video:c};a.trigger(d),b.isFunction(a.settings.videoEnd)&&a.settings.videoEnd.call(a,d)})}),this.on("panelOpen.SmartVideo."+c,function(b){if(-1!=b.previousIndex&&0!==a.$panelsContainer.find(".as-panel").eq(b.previousIndex).find(".as-video").length){var c=a.$panelsContainer.find(".as-panel").eq(b.previousIndex).find(".as-video");"stopVideo"==a.settings.closePanelVideoAction?c.smartVideo("stop"):"pauseVideo"==a.settings.closePanelVideoAction&&c.smartVideo("pause")}if(0!==a.$panelsContainer.find(".as-panel").eq(b.index).find(".as-video").length){var d=a.$panelsContainer.find(".as-panel").eq(b.index).find(".as-video");"playVideo"==a.settings.openPanelVideoAction&&d.smartVideo("play")}}),this.on("panelsClose.SmartVideo."+c,function(b){if(-1!=b.previousIndex&&0!==a.$panelsContainer.find(".as-panel").eq(b.previousIndex).find(".as-video").length){var c=a.$panelsContainer.find(".as-panel").eq(b.previousIndex).find(".as-video");"stopVideo"==a.settings.closePanelVideoAction?c.smartVideo("stop"):"pauseVideo"==a.settings.closePanelVideoAction&&c.smartVideo("pause")}})},destroySmartVideo:function(){this.$accordion.find(".as-video").each(function(){var a=b(this);a.off("SmartVideo"),b(this).smartVideo("destroy")}),this.off("panelOpen.SmartVideo."+c),this.off("panelsClose.SmartVideo."+c)},smartVideoDefaults:{openPanelVideoAction:"playVideo",closePanelVideoAction:"stopVideo",playVideoAction:"stopAutoplay",pauseVideoAction:"none",stopVideoAction:"none",endVideoAction:"startAutoplay",videoPlay:function(){},videoPause:function(){},videoEnd:function(){}}};b.AccordionSlider.addModule("SmartVideo",e,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={initSwapBackground:function(){var a=this;b.extend(this.settings,this.swapBackgroundDefaults,this.options),this.on("panelOpen.SwapBackground."+c,function(b){var c=a.getPanelAt(b.index),d=c.$panel.find(".as-background"),e=c.$panel.find(".as-background-opened");if(0!==e.length&&(e.css({visibility:"visible",opacity:0}).stop().animate({opacity:1},a.settings.swapBackgroundDuration),0!==d.length&&d.stop().animate({opacity:0},a.settings.swapBackgroundDuration)),-1!=b.previousIndex){var f=a.getPanelAt(b.previousIndex),g=f.$panel.find(".as-background"),h=f.$panel.find(".as-background-opened");0!==h.length&&(h.stop().animate({opacity:0},a.settings.swapBackgroundDuration,function(){h.css({visibility:"hidden"})}),0!==g.length&&g.stop().animate({opacity:1},a.settings.swapBackgroundDuration))}}),this.on("panelsClose.SwapBackground."+c,function(b){if(-1!=b.previousIndex){var c=a.getPanelAt(b.previousIndex),d=c.$panel.find(".as-background"),e=c.$panel.find(".as-background-opened");0!==e.length&&(e.stop().animate({opacity:0},a.settings.swapBackgroundDuration,function(){e.css({visibility:"hidden"})}),0!==d.length&&d.stop().animate({opacity:1},a.settings.swapBackgroundDuration))}})},destroySwapBackground:function(){this.off("panelOpen.SwapBackground."+c),this.off("panelsClose.SwapBackground."+c)},swapBackgroundDefaults:{swapBackgroundDuration:700}};b.AccordionSlider.addModule("SwapBackground",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d={isTouchSupport:!1,touchStartPoint:{x:0,y:0},touchEndPoint:{x:0,y:0},touchStartPosition:0,isTouchMoving:!1,initTouchSwipe:function(){if(b.extend(this.settings,this.touchSwipeDefaults,this.options),this.settings.touchSwipe!==!1){this.isTouchSupport="ontouchstart"in a;var d=this.isTouchSupport?"touchstart":"mousedown",e=this.isTouchSupport?"touchend":"mouseup";this.$panelsContainer.on(d+"."+c,b.proxy(this._onTouchStart,this)),b(document).on(e+"."+this.uniqueId+"."+c,b.proxy(this._onTouchEnd,this)),this.$panelsContainer.addClass("as-grab")}},_onTouchStart:function(a){var d=b(a.target).closest(".selectable");if(!(d.length>=1)){this.isTouchSupport===!1&&a.preventDefault();var e=this.isTouchSupport?a.originalEvent.touches[0]:a.originalEvent,f=this.isTouchSupport?"touchmove":"mousemove";this.touchStartPoint.x=e.pageX,this.touchStartPoint.y=e.pageY,this.touchStartPosition=parseInt(this.$panelsContainer.css(this.positionProperty),10),this.$panelsContainer.on(f+"."+c,b.proxy(this._onTouchMove,this)),this.$panelsContainer.removeClass("as-grab").addClass("as-grabbing")}},_onTouchMove:function(a){a.preventDefault();var b=this.isTouchSupport?a.originalEvent.touches[0]:a.originalEvent;this.isTouchMoving=!0,this.touchEndPoint.x=b.pageX,this.touchEndPoint.y=b.pageY;var c=this.touchEndPoint.x-this.touchStartPoint.x,d=this.touchEndPoint.y-this.touchStartPoint.y,e="horizontal"==this.settings.orientation?c:d,f=parseInt(this.$panelsContainer.css(this.positionProperty),10);(f>0||f<-this.totalPanelsSize+this.totalSize)&&(e=.2*e),this.$panelsContainer.css(this.positionProperty,this.touchStartPosition+e)},_onTouchEnd:function(a){var d=this.isTouchSupport?"touchmove":"mousemove";if(this.$panelsContainer.off(d+"."+c),this.isTouchSupport===!0&&(this.isTouchMoving===!1||this.isTouchMoving===!0&&Math.abs(this.touchEndPoint.x-this.touchStartPoint.x)<10&&Math.abs(this.touchEndPoint.y-this.touchStartPoint.y)<10)){var e=b(a.target).parents(".as-panel").index();e!==this.currentIndex&&(this.openPanel(e),a.preventDefault())}if(this.isTouchMoving!==!1){this.isTouchMoving=!1;var f=this.touchEndPoint.x-this.touchStartPoint.x,g=this.touchEndPoint.y-this.touchStartPoint.y,h={};h[this.positionProperty]=this.touchStartPosition,"horizontal"==this.settings.orientation?f>this.settings.touchSwipeThreshold?this.currentPage>0?this.previousPage():this.$panelsContainer.stop().animate(h,300):-f>this.settings.touchSwipeThreshold?this.currentPage<this.getTotalPages()-1?this.nextPage():this.gotoPage(this.currentPage):Math.abs(f)<this.settings.touchSwipeThreshold&&this.$panelsContainer.stop().animate(h,300):"vertical"==this.settings.orientation&&(g>this.settings.touchSwipeThreshold?this.currentPage>0?this.previousPage():this.$panelsContainer.stop().animate(h,300):-g>this.settings.touchSwipeThreshold?this.currentPage<this.getTotalPages()-1?this.nextPage():this.$panelsContainer.animate(h,300):Math.abs(g)<this.settings.touchSwipeThreshold&&this.$panelsContainer.stop().animate(h,300));var i=b(a.target).closest("a");i.length>=1&&i.one("click",function(a){a.preventDefault()}),this.$panelsContainer.removeClass("as-grabbing").addClass("as-grab")}},destroyTouchSwipe:function(){var a=this.isTouchSupport?"touchstart":"mousedown",d=this.isTouchSupport?"touchend":"mouseup",e=this.isTouchSupport?"touchmove":"mousemove";this.$panelsContainer.off(a+"."+c),b(document).off(d+"."+this.uniqueId+"."+c),this.$panelsContainer.off(e+"."+c)},touchSwipeDefaults:{touchSwipe:!0,touchSwipeThreshold:50}};b.AccordionSlider.addModule("TouchSwipe",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.AccordionSlider.namespace,d=a.navigator.userAgent.toLowerCase(),e=/(msie) ([\w.]+)/,f=e.exec(d)||[],g=f[1],h={XMLDataAttributesMap:{width:"data-width",height:"data-height",depth:"data-depth",position:"data-position",horizontal:"data-horizontal",vertical:"data-vertical",showTransition:"data-show-transition",showOffset:"data-show-offset",showDelay:"data-show-delay",showDuration:"data-show-duration",showEasing:"data-show-easing",hideTransition:"data-hide-transition",hideOffset:"data-",hideDelay:"data-hide-delay",hideDuration:"data-hide-duration",hideEasing:"data-hide-easing"},initXML:function(){b.extend(this.settings,this.XMLDefaults,this.options),null!==this.settings.XMLSource&&this.updateXML()},updateXML:function(){var a=this;this.removePanels(),this.$accordion.empty(),this.off("XMLReady."+c),this.on("XMLReady."+c,function(c){var d=b(c.xmlData);a.$maskContainer=b('<div class="as-mask"></div>').appendTo(a.$accordion),a.$panelsContainer=b('<div class="as-panels"></div>').appendTo(a.$maskContainer),d.find("panel").each(function(){var c,d,e=b(this),f=e.find("background"),g=e.find("backgroundLink"),h=e.find("backgroundOpened"),i=e.find("backgroundOpenedLink"),j=e.find("layer"),k=b('<div class="as-panel"></div>').appendTo(a.$panelsContainer);if(g.length>=1&&(c=b('<a href="'+g.text()+'"></a>'),b.each(g[0].attributes,function(a,b){c.attr(b.nodeName,b.nodeValue)}),c.appendTo(k)),f.length>=1){var l=b('<img class="as-background" src="'+f.text()+'"/>');b.each(f[0].attributes,function(a,b){l.attr(b.nodeName,b.nodeValue)}),l.appendTo(g.length?c:k)}if(i.length>=1&&(d=b('<a href="'+i.text()+'"></a>'),b.each(i[0].attributes,function(a,b){d.attr(b.nodeName,b.nodeValue)}),d.appendTo(k)),h.length>=1){var m=b('<img class="as-background-opened" src="'+h.text()+'"/>');b.each(h[0].attributes,function(a,b){m.attr(b.nodeName,b.nodeValue)}),m.appendTo(i.length?d:k)}j.length>=1&&b.each(j,function(){var c=b(this),d="",e="";b.each(c[0].attributes,function(c,f){if("style"==f.nodeName){var g=f.nodeValue.split(" ");b.each(g,function(a,b){d+=" as-"+b})}else e+=" "+a.XMLDataAttributesMap[f.nodeName]+'="'+f.nodeValue+'"'}),b('<div class="as-layer'+d+'"'+e+'">'+c.text()+"</div>").appendTo(k)})}),a.update()}),this._loadXML()},_loadXML:function(){var a=this;if(".xml"==this.settings.XMLSource.slice(-4))b.ajax({type:"GET",url:this.settings.XMLSource,dataType:"msie"==g?"text":"xml",success:function(b){var d;"msie"==g?(d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(b)):d=b,a.trigger({type:"XMLReady."+c,xmlData:d})}});else{var d=b.parseXML(this.settings.XMLSource);a.trigger({type:"XMLReady."+c,xmlData:d})}},destroyXML:function(){this.off("XMLReady."+c)},XMLDefaults:{XMLSource:null}};b.AccordionSlider.addModule("XML",h,"accordion")}(window,jQuery);